[importlinter]
type=forbidden
source_modules=
jn.cli
forbidden_modules=
jn.models
jn.drivers


; ──────────────────────────────────────────────────────────────────────────────
; Service never reaches up to CLI
; ──────────────────────────────────────────────────────────────────────────────
[importlinter:contract:service_no_cli]
name=Service must not import CLI
type=forbidden
source_modules=
jn.service
forbidden_modules=
jn.cli


; ──────────────────────────────────────────────────────────────────────────────
; Drivers stay integration‑only: rely on Models, not Config/Service/CLI
; ──────────────────────────────────────────────────────────────────────────────
[importlinter:contract:drivers_only_models]
name=Drivers may only import Models (and stdlib/third‑party)
type=forbidden
source_modules=
jn.drivers
forbidden_modules=
jn.cli
jn.service
jn.config


; ──────────────────────────────────────────────────────────────────────────────
; Config is a leaf above Models
; ──────────────────────────────────────────────────────────────────────────────
[importlinter:contract:config_no_upwards]
name=Config must not import Service/Drivers/CLI
type=forbidden
source_modules=
jn.config
forbidden_modules=
jn.cli
jn.service
jn.drivers


; ──────────────────────────────────────────────────────────────────────────────
; Models are the bedrock
; ──────────────────────────────────────────────────────────────────────────────
[importlinter:contract:models_no_upwards]
name=Models must not import higher layers
type=forbidden
source_modules=
jn.models
forbidden_modules=
jn.cli
jn.service
jn.drivers
jn.config
