[importlinter]
root_package = jn

# Contract 1: Plugins are NEVER imported (they're subprocess-executed)
[importlinter:contract:1]
name = Plugins must never be imported
type = forbidden
source_modules =
    jn
forbidden_modules =
    jn.plugins

# Contract 2: CLI is only for entry points, not imported by business logic
[importlinter:contract:2]
name = CLI layer not imported by core or commands
type = forbidden
source_modules =
    jn.core
    jn.commands
forbidden_modules =
    jn.cli

# Contract 3: Core is the business logic - CLI and commands can use it
[importlinter:contract:3]
name = Core layer is independent
type = layers
layers =
    jn.cli
    jn.commands
    jn.core
